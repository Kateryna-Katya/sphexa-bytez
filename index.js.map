{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. ИНИЦИАЛИЗАЦИЯ ---\n  lucide.createIcons();\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Плавный скролл\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n  });\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- 2. HERO АНИМАЦИЯ (CANVAS NETWORK) ---\n  const canvas = document.getElementById('heroCanvas');\n  const ctx = canvas.getContext('2d');\n  let width, height;\n  let particles = [];\n\n  // Настройки анимации\n  const config = {\n      particleColor: 'rgba(204, 255, 0, 0.5)', // Наш Lime Green\n      lineColor: 'rgba(204, 255, 0, 0.15)',\n      particleAmount: 60, // Количество точек\n      defaultSpeed: 0.5,\n      variantSpeed: 1,\n      linkRadius: 150 // Радиус соединения линий\n  };\n\n  function resize() {\n      width = canvas.width = window.innerWidth;\n      height = canvas.height = window.innerHeight;\n  }\n\n  class Particle {\n      constructor() {\n          this.x = Math.random() * width;\n          this.y = Math.random() * height;\n          this.vx = (Math.random() - 0.5) * config.defaultSpeed;\n          this.vy = (Math.random() - 0.5) * config.defaultSpeed;\n          this.size = Math.random() * 2 + 1;\n      }\n\n      update() {\n          this.x += this.vx;\n          this.y += this.vy;\n\n          // Отталкивание от краев\n          if (this.x > width) this.vx *= -1;\n          if (this.x < 0) this.vx *= -1;\n          if (this.y > height) this.vy *= -1;\n          if (this.y < 0) this.vy *= -1;\n      }\n\n      draw() {\n          ctx.beginPath();\n          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n          ctx.fillStyle = config.particleColor;\n          ctx.fill();\n      }\n  }\n\n  function initParticles() {\n      particles = [];\n      // Адаптивное количество частиц\n      const amount = window.innerWidth < 768 ? 30 : config.particleAmount;\n      for (let i = 0; i < amount; i++) {\n          particles.push(new Particle());\n      }\n  }\n\n  function animateParticles() {\n      ctx.clearRect(0, 0, width, height);\n\n      for (let i = 0; i < particles.length; i++) {\n          let p1 = particles[i];\n          p1.update();\n          p1.draw();\n\n          // Соединяем линиями\n          for (let j = i + 1; j < particles.length; j++) {\n              let p2 = particles[j];\n              let distance = Math.sqrt((p1.x - p2.x)**2 + (p1.y - p2.y)**2);\n\n              if (distance < config.linkRadius) {\n                  ctx.beginPath();\n                  ctx.strokeStyle = config.lineColor;\n                  ctx.lineWidth = 1;\n                  ctx.moveTo(p1.x, p1.y);\n                  ctx.lineTo(p2.x, p2.y);\n                  ctx.stroke();\n              }\n          }\n      }\n      requestAnimationFrame(animateParticles);\n  }\n\n  // Запуск анимации Hero\n  window.addEventListener('resize', () => { resize(); initParticles(); });\n  resize();\n  initParticles();\n  animateParticles();\n\n\n  // --- 3. ИСПРАВЛЕННАЯ АНИМАЦИЯ ПОЯВЛЕНИЯ (GSAP) ---\n\n  // Анимация заголовков и текстов\n  const fadeElements = document.querySelectorAll('.section-title, .section-subtitle, .about__text, .innovations__content');\n\n  fadeElements.forEach(el => {\n      gsap.fromTo(el,\n          { y: 50, opacity: 0 }, // Начальное состояние\n          {\n              y: 0,\n              opacity: 1,\n              duration: 0.8,\n              ease: 'power2.out',\n              scrollTrigger: {\n                  trigger: el,\n                  start: 'top 90%', // Начинаем раньше (когда элемент на 90% экрана)\n                  toggleActions: 'play none none none' // Проигрываем 1 раз и не скрываем обратно\n              }\n          }\n      );\n  });\n\n  // Анимация карточек (Гриды) - Programs, Mentors, Blog\n  const grids = ['.programs__grid', '.mentors__grid', '.blog__grid', '.numbers__grid', '.steps'];\n\n  grids.forEach(selector => {\n      const grid = document.querySelector(selector);\n      if (grid) {\n          gsap.fromTo(grid.children,\n              { y: 40, opacity: 0 },\n              {\n                  y: 0,\n                  opacity: 1,\n                  duration: 0.6,\n                  stagger: 0.15, // Задержка между карточками\n                  ease: 'back.out(1.2)',\n                  scrollTrigger: {\n                      trigger: grid,\n                      start: 'top 85%',\n                      toggleActions: 'play none none none'\n                  }\n              }\n          );\n      }\n  });\n\n  // Hero контент (появляется сразу)\n  gsap.from('.hero__content > *', {\n      y: 30,\n      opacity: 0,\n      duration: 1,\n      stagger: 0.2,\n      delay: 0.2,\n      ease: 'power3.out'\n  });\n\n\n  // --- 4. МОБИЛЬНОЕ МЕНЮ ---\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.header__link');\n  const body = document.body;\n\n  burger.addEventListener('click', () => {\n      burger.classList.toggle('is-active');\n      nav.classList.toggle('is-active');\n      body.classList.toggle('no-scroll');\n  });\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          burger.classList.remove('is-active');\n          nav.classList.remove('is-active');\n          body.classList.remove('no-scroll');\n      });\n  });\n\n  // --- 5. ХЕДЕР ПРИ СКРОЛЛЕ ---\n  let lastScroll = 0;\n  const header = document.querySelector('.header');\n\n  // Используем нативный скролл ивент для надежности, если Lenis заглючит\n  window.addEventListener('scroll', () => {\n      const currentScroll = window.scrollY;\n      if (currentScroll > lastScroll && currentScroll > 100) {\n          header.style.transform = 'translateY(-100%)';\n      } else {\n          header.style.transform = 'translateY(0)';\n      }\n      lastScroll = currentScroll;\n  });\n\n  // --- 6. АККОРДЕОН И ФОРМА ---\n  // FAQ\n  document.querySelectorAll('.accordion__trigger').forEach(btn => {\n      btn.addEventListener('click', () => {\n          const item = btn.parentElement;\n          // Закрыть остальные\n          document.querySelectorAll('.accordion__item').forEach(i => {\n              if (i !== item) i.classList.remove('is-open');\n          });\n          item.classList.toggle('is-open');\n      });\n  });\n\n  // Форма\n  const form = document.getElementById('contactForm');\n  if (form) {\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          const msgBox = document.querySelector('.form__message');\n          const captcha = document.getElementById('captcha').value;\n\n          if (parseInt(captcha) !== 8) {\n              msgBox.textContent = 'Ошибка вычисления!';\n              msgBox.style.color = 'red';\n              return;\n          }\n\n          const btn = form.querySelector('button');\n          const oldText = btn.textContent;\n          btn.textContent = 'Отправка...';\n          btn.disabled = true;\n\n          setTimeout(() => {\n              btn.textContent = oldText;\n              btn.disabled = false;\n              msgBox.textContent = 'Заявка отправлена!';\n              msgBox.style.color = '#ccff00';\n              form.reset();\n          }, 1500);\n      });\n  }\n\n  // Cookie\n  const cookiePopup = document.getElementById('cookiePopup');\n  if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => cookiePopup.classList.add('is-visible'), 2000);\n      document.getElementById('acceptCookie').addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('is-visible');\n      });\n  }\n});"],"names":["lenis","t","raf","time","canvas","ctx","width","height","particles","config","resize","Particle","initParticles","amount","i","animateParticles","p1","j","p2","el","selector","grid","burger","nav","navLinks","body","link","lastScroll","header","currentScroll","btn","item","form","msgBox","captcha","oldText","cookiePopup"],"mappings":"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"}